{"ast":null,"code":"var _jsxFileName = \"/Users/cavliucigor/Desktop/batman-client/src/App.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect } from \"react\";\nimport { Routes, Route, useLocation, Navigate } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { getAllUser } from \"./Redux/User/userSlice\";\nimport { getUser } from \"./server\";\nimport Body from \"./Companent/Body\";\nimport Navbar from \"./Companent/Navbar\";\nimport Product from \"./Companent/Product\";\nimport Profile from \"./Companent/Profile\";\nimport SignIn from \"./Companent/SignIn\";\nimport SignUp from \"./Companent/SignUp\";\nimport \"./clear.css\";\nimport \"./index.css\";\nimport AddPost from \"./Companent/AddPost\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const AuthorisedAccount = _ref => {\n  var _sessionStorage$getIt;\n  let {\n    component\n  } = _ref;\n  const login = (_sessionStorage$getIt = sessionStorage.getItem(\"users\")) !== null && _sessionStorage$getIt !== void 0 ? _sessionStorage$getIt : \"\";\n  return login ? /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"batman-store\",\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 7\n    }, this), component]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 22,\n    columnNumber: 5\n  }, this) : /*#__PURE__*/_jsxDEV(Navigate, {\n    to: \"/signin\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 5\n  }, this);\n};\n_c = AuthorisedAccount;\nexport const NotAuthorisedAccount = _ref2 => {\n  var _sessionStorage$getIt2;\n  let {\n    component\n  } = _ref2;\n  const login = (_sessionStorage$getIt2 = sessionStorage.getItem(\"users\")) !== null && _sessionStorage$getIt2 !== void 0 ? _sessionStorage$getIt2 : \"\";\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"batman-store\",\n    children: !login ? component : /*#__PURE__*/_jsxDEV(Navigate, {\n      to: \"/\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 29\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 5\n  }, this);\n};\n_c2 = NotAuthorisedAccount;\nfunction App(_ref3) {\n  _s();\n  var _location$pathname, _location$pathname$sp, _location$pathname$sp2;\n  let {\n    user,\n    getAllUser\n  } = _ref3;\n  const location = useLocation();\n  const sectionPath = location === null || location === void 0 ? void 0 : (_location$pathname = location.pathname) === null || _location$pathname === void 0 ? void 0 : (_location$pathname$sp = _location$pathname.split(\"section\")) === null || _location$pathname$sp === void 0 ? void 0 : (_location$pathname$sp2 = _location$pathname$sp[1]) === null || _location$pathname$sp2 === void 0 ? void 0 : _location$pathname$sp2.split(\"/\")[1];\n  useEffect(() => {\n    var _sessionStorage$getIt3;\n    const dataString = (_sessionStorage$getIt3 = sessionStorage.getItem(\"users\")) !== null && _sessionStorage$getIt3 !== void 0 ? _sessionStorage$getIt3 : \"\";\n    const data = JSON.parse(dataString || \"[]\")[0];\n    if (data) {\n      if (!(new Date().getTime() < data.expires)) {\n        sessionStorage.removeItem(\"users\");\n      }\n    }\n  }, []);\n  useEffect(() => {\n    const dataString = sessionStorage.getItem(\"users\");\n    if (dataString) {\n      const user = JSON.parse(dataString)[0];\n      getUser(user === null || user === void 0 ? void 0 : user.login, user === null || user === void 0 ? void 0 : user.password).then(res => {\n        if (res) {\n          getAllUser(res);\n        }\n      });\n    }\n  }, [getAllUser]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"batman-store\",\n    children: /*#__PURE__*/_jsxDEV(Routes, {\n      children: [/*#__PURE__*/_jsxDEV(Route, {\n        path: \"/signin\",\n        element: /*#__PURE__*/_jsxDEV(NotAuthorisedAccount, {\n          component: /*#__PURE__*/_jsxDEV(SignIn, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 53\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 20\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/signup\",\n        element: /*#__PURE__*/_jsxDEV(NotAuthorisedAccount, {\n          component: /*#__PURE__*/_jsxDEV(SignUp, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 53\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 20\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/\",\n        element: /*#__PURE__*/_jsxDEV(AuthorisedAccount, {\n          component: /*#__PURE__*/_jsxDEV(Body, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 64\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 34\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/profile\",\n        element: /*#__PURE__*/_jsxDEV(AuthorisedAccount, {\n          component: /*#__PURE__*/_jsxDEV(Profile, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 50\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 20\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/create-post\",\n        element: /*#__PURE__*/_jsxDEV(AuthorisedAccount, {\n          component: /*#__PURE__*/_jsxDEV(AddPost, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 50\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 20\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/section/\" + sectionPath,\n        element: /*#__PURE__*/_jsxDEV(AuthorisedAccount, {\n          component: /*#__PURE__*/_jsxDEV(Product, {\n            name: sectionPath\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 43\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"Fsnn4T0K08C2NlVrqWhZtVJucvU=\", false, function () {\n  return [useLocation];\n});\n_c3 = App;\nconst mapStateToProps = state => ({\n  user: state === null || state === void 0 ? void 0 : state.userSlice\n});\nexport default connect(mapStateToProps, {\n  getAllUser\n})(App);\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"AuthorisedAccount\");\n$RefreshReg$(_c2, \"NotAuthorisedAccount\");\n$RefreshReg$(_c3, \"App\");","map":{"version":3,"names":["React","useEffect","Routes","Route","useLocation","Navigate","connect","getAllUser","getUser","Body","Navbar","Product","Profile","SignIn","SignUp","AddPost","AuthorisedAccount","component","login","sessionStorage","getItem","NotAuthorisedAccount","App","user","location","sectionPath","pathname","split","dataString","data","JSON","parse","Date","getTime","expires","removeItem","password","then","res","mapStateToProps","state","userSlice"],"sources":["/Users/cavliucigor/Desktop/batman-client/src/App.tsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Routes, Route, useLocation, Navigate } from \"react-router-dom\";\n\nimport { connect } from \"react-redux\";\nimport { getAllUser } from \"./Redux/User/userSlice\";\nimport { getUser } from \"./server\";\nimport Body from \"./Companent/Body\";\n\nimport Navbar from \"./Companent/Navbar\";\nimport Product from \"./Companent/Product\";\nimport Profile from \"./Companent/Profile\";\nimport SignIn from \"./Companent/SignIn\";\nimport SignUp from \"./Companent/SignUp\";\nimport \"./clear.css\";\nimport \"./index.css\";\nimport AddPost from \"./Companent/AddPost\";\nimport { setAllNavigation } from \"./Redux/Navigation/navigationSlice\";\n\nexport const AuthorisedAccount = ({ component }: any) => {\n  const login = sessionStorage.getItem(\"users\") ?? \"\";\n  return login ? (\n    <div className=\"batman-store\">\n      <Navbar />\n      {component}\n    </div>\n  ) : (\n    <Navigate to={\"/signin\"} />\n  );\n};\nexport const NotAuthorisedAccount = ({ component }: any) => {\n  const login = sessionStorage.getItem(\"users\") ?? \"\";\n\n  return (\n    <div className=\"batman-store\">\n      {!login ? component : <Navigate to={\"/\"} />}\n    </div>\n  );\n};\n\nfunction App({ user, getAllUser }: any) {\n  const location = useLocation();\n\n  const sectionPath = location?.pathname?.split(\"section\")?.[1]?.split(\"/\")[1];\n\n  useEffect(() => {\n    const dataString = sessionStorage.getItem(\"users\") ?? \"\";\n    const data = JSON.parse(dataString || \"[]\")[0];\n    if (data) {\n      if (!(new Date().getTime() < data.expires)) {\n        sessionStorage.removeItem(\"users\");\n      }\n    }\n  }, []);\n\n  useEffect(() => {\n    const dataString = sessionStorage.getItem(\"users\");\n    if (dataString) {\n      const user = JSON.parse(dataString)[0];\n      getUser(user?.login, user?.password).then((res) => {\n        if (res) {\n          getAllUser(res);\n        }\n      });\n    }\n  }, [getAllUser]);\n\n  return (\n    <div className=\"batman-store\">\n      <Routes>\n        <Route\n          path=\"/signin\"\n          element={<NotAuthorisedAccount component={<SignIn />} />}\n        />\n        <Route\n          path=\"/signup\"\n          element={<NotAuthorisedAccount component={<SignUp />} />}\n        />\n\n        <Route path=\"/\" element={<AuthorisedAccount component={<Body />} />} />\n        <Route\n          path=\"/profile\"\n          element={<AuthorisedAccount component={<Profile />} />}\n        />\n        <Route\n          path=\"/create-post\"\n          element={<AuthorisedAccount component={<AddPost />} />}\n        />\n        <Route\n          path={\"/section/\" + sectionPath}\n          element={\n            <AuthorisedAccount component={<Product name={sectionPath} />} />\n          }\n        />\n      </Routes>\n    </div>\n  );\n}\n\nconst mapStateToProps = (state: any) => ({\n  user: state?.userSlice,\n});\n\nexport default connect(mapStateToProps, { getAllUser })(App);\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}